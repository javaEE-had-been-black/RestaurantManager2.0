<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
    <h:outputStylesheet library="css" name="personnelManage.css"/>
    <title>人事管理</title>
</h:head>

<body background="resources/images/background.jpg" style="background-repeat:no-repeat;
        background-size:100% 100%;
        background-attachment:fixed;">

<script>
    function hiddenAddPeronnel() {
        var div = document.getElementById("create-personnel");
        div.style.visibility = "hidden";
    }

    function showAddPeronnel() {
        var div = document.getElementById("create-personnel");
        div.style.visibility = "visible";
    }

    function showChangePersonnel() {
        var div = document.getElementById("change-personnel");
        div.style.visibility = "visible";
    }

    function hiddenChangePersonnel() {
        var div = document.getElementById("change-personnel");
        div.style.visibility = "hidden";
    }

</script>


<div id="create-personnel" style="visibility: hidden" class="create-personnel">
    <h:form>
        <p style="color: #666666;font-size: larger">手機號:
            <h:inputText type="text" value="#{restaurantManager.newTelNumber}"/>
        </p>

        <p style="color: #666666;font-size: larger">姓名:
            <h:inputText type="text" value="#{restaurantManager.newUserName}"/>
        </p>

        <p style="color: #666666;font-size: larger">密碼:
            <h:inputText type="text" value="#{restaurantManager.newPassword}"/>
        </p>

        <p style="color: #666666;font-size: larger">職位:
            <h:inputText type="text" value="#{restaurantManager.newPosition}"/>
        </p>

        <p style="color: #666666;font-size: larger">薪水:
            <h:inputText type="text" value="#{restaurantManager.newSalary}"/>
        </p>
        <div style="text-align: center;margin-top: 30px;"></div>
        <h:commandButton class="operation-button" value="确认" onclick="hiddenAddPeronnel()"
                         action="#{restaurantManager.createUser()}"/>
        <h:commandButton class="operation-button" value="取消" onclick="hiddenAddPeronnel()"/>
    </h:form>
</div>


<div id="change-personnel" style="visibility: hidden" class="create-personnel">
    <h:form>
        <p style="color: #666666;font-size: larger">手機號:
            <h:inputText type="text" value="#{restaurantManager.currentUser.telNumber}"/>
        </p>

        <p style="color: #666666;font-size: larger">姓名:
            <h:inputText type="text" value="#{restaurantManager.currentUser.userName}"/>
        </p>

        <p style="color: #666666;font-size: larger">密碼:
            <h:inputText type="text" value="#{restaurantManager.currentUser.password}"/>
        </p>

        <p style="color: #666666;font-size: larger">職位:
            <h:inputText type="text" value="#{restaurantManager.currentUser.position}"/>
        </p>

        <p style="color: #666666;font-size: larger">薪水:
            <h:inputText type="text" value="#{restaurantManager.currentUser.salary}"/>
        </p>
        <div style="text-align: center;margin-top: 30px;"></div>
        <h:commandButton class="operation-button" value="确认" onclick="hiddenAddPeronnel()"
                         action="#{seatManager.createSeat}"/>
        <h:commandButton class="operation-button" value="取消" onclick="hiddenAddPeronnel()"/>
    </h:form>
</div>

<div class="show">

    <div id="choice" class="choice">
        <h:form>
            <h:commandButton class="button" value="个人中心" style="text-align: left" action="personIn"/>
            <h:commandButton class="button" value="餐位管理" style="text-align: left" action="seatManage"/>
            <h:commandButton class="button" value="菜谱管理" style="text-align: left" action="dishManage"/>
            <h:commandButton class="button" value="仓库管理" style="text-align: left" action="warehouseManage"/>
            <h:commandButton class="button" value="报表统计" style="text-align: left" action="personIn"/>
            <h:commandButton class="button" value="会员管理" style="text-align: left" action="vipManage"/>
            <h:commandButton class="button" value="员工管理" style="text-align: left" action="personnelManage"/>
        </h:form>
    </div>

    <div class="searchPersonnel">
        <input type="text"/>
        <img src="resources/images/search.jpg" style="width: 30px;height: 30px" alt="搜索"/>
        <input type="button" class="button" onclick="showAddPeronnel()" value="添加員工"/>

        <table>
            <tr>
                <th>手机号（账号）</th>
                <th>姓名</th>
                <th>职位</th>
                <th>密码</th>
                <th>工资</th>
                <th>操作</th>
            </tr>

            <ui:repeat var="user" value="#{restaurantManager.getAllUsers()}">
                <tr>
                    <td>#{user.telNumber}</td>
                    <td>#{user.userName}</td>
                    <td>#{user.position}</td>
                    <td>#{user.password}</td>
                    <td>#{user.salary}</td>
                    <td>
                        <h:form>
                            <h:commandButton value="修改" onclick="showChangePersonnel()"/>
                            <h:commandButton value="刪除" style="background-color: red"
                                             onclick="#{restaurantManager.removeUser(user.telNumber)}"/>
                        </h:form>
                    </td>
                </tr>
            </ui:repeat>
        </table>

    </div>

</div>
</body>
</html>