<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
    <title>RestaurantManager</title>
    <h:outputStylesheet library="css" name="bill.css"/>
</h:head>

<body background="resources/images/background.jpg" style="background-repeat:no-repeat;
        background-size:100% 100%;
        background-attachment:fixed;">

<div class="show">

    <div id="choice" class="choice">
        <h:form>
            <p>
                <h:commandButton class="button" value="个人中心" style="text-align: left" action="personIn"/>
            </p>
            <p>
                <h:commandButton class="button" value="餐位管理" style="text-align: left" action="seatManage"/>
            </p>
            <p>
                <h:commandButton class="button" value="菜谱管理" style="text-align: left" action="dishManage"/>
            </p>
            <p>
                <h:commandButton class="button" value="仓库管理" style="text-align: left" action="warehouseManage"/>
            </p>
            <p>
                <h:commandButton class="button" value="报表统计" style="text-align: left" action="bill"/>
            </p>
            <p>
                <h:commandButton class="button" value="会员管理" style="text-align: left" action="vipManage"/>
            </p>
            <p>
                <h:commandButton class="button" value="员工管理" style="text-align: left" action="personnelManage"/>
            </p>
        </h:form>
    </div>


    <div class="createBill">
    <h:form>

        <h:selectOneMenu value="#{billManager.searchKey}">
            <f:selectItem itemValue="支出" itemLabel="支出"/>
            <f:selectItem itemValue="收入" itemLabel="收入"/>
        </h:selectOneMenu>

        <p>#{billManager.getBillsbyType(billManager.searchKey)}</p>
        <p style="color: #666666;font-size: larger">数目:
            <h:inputText id="Amount" type="text" value="#{billManager.amount}"/>
        </p>
        <div style="text-align: center;margin-top: 30px;"></div>
        <h:commandButton class="button" value="创建" action="#{billManager.createBill(billManager.type,billManager.amount)}"/>
        <p style="color: #ff0000">#{billManager.billInfo}</p>
    </h:form>


    </div>
    <div class="deleteBill">
        <h:form>

            <h:selectOneMenu value="#{billManager.searchKey}">
                <f:selectItem itemValue="支出" itemLabel="支出"/>
                <f:selectItem itemValue="收入" itemLabel="收入"/>
            </h:selectOneMenu>

            <p>#{billManager.getBillsbyType(billManager.type)}</p>
            <div style="text-align: center;margin-top: 30px;"></div>
            <h:commandButton class="button" value="删除" action="#{billManager.removeBill(billManager.billId)}"/>
            <p style="color: #ff0000">#{billManager.billInfo}</p>
        </h:form>


    </div>
    <div class="Info">

        <h:form>
            <h:commandButton class="button" value="所有账单" action="#{billManager.setAllBills()}">
            </h:commandButton>

        </h:form>

        <table>
            <tr>
                <th>订单号</th>
                <th>时间</th>
                <th>类型</th>
                <th>数目</th>
            </tr>
            <ui:repeat var="item" value="#{billManager.allBills}">
                <tr>
                    <td>#{item.itemId}</td>
                    <td>#{item.itemDate}</td>
                    <td>#{item.type}</td>
                    <td>#{item.amount}</td>
                </tr>
            </ui:repeat>
        </table>
    </div>


<div id="billType" class="billType">
    <h:selectOneMenu value="#{billManager.searchKey}">
        <f:selectItem itemValue="支出" itemLabel="支出"/>
        <f:selectItem itemValue="收入" itemLabel="收入"/>

    </h:selectOneMenu>

    <h:inputText id="searchKey" type="text" value="#{repositoryManager.searchKey}"/>
    <h:form>
        <h:commandButton action="#{billManager.getBillsbyType(billManager.type)}" image="resources/images/search.jpg" class="searchButton"/>

    </h:form>

    <table>
        <tr>
            <th>订单号</th>
            <th>时间</th>
            <th>种类</th>
            <th>数目</th>
        </tr>
        <ui:repeat var="item" value="#{billManager.getBillsbyType(billManager.type)}">
            <tr>
                <td>#{item.itemId}</td>
                <td>#{item.itemDate}</td>
                <td>#{item.type}</td>
                <td>#{item.amount}</td>
            </tr>
        </ui:repeat>

    </table>

</div>

</div>
</body>

</html>